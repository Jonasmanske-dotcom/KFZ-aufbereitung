<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Kundengalerie – KFZ Aufbereitung</title>
<link rel="stylesheet" href="css/style.css">

<style>
body { font-family: Arial, sans-serif; background: #f4f4f4; margin:0; padding:0; }
nav { display:flex; justify-content: space-between; padding: 15px 30px; background:#222; color:white; }
nav a { color:#fff; text-decoration:none; margin-left:15px; font-weight:bold; }
nav a:hover { color:#ff9800; }

.container { max-width:1100px; margin:auto; padding:40px 20px; text-align:center; }

.login-box { background:#fff; padding:20px; max-width:400px; margin:20px auto; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1);}
.login-box input, .login-box button { width:100%; padding:10px; margin-top:10px; border-radius:5px; border:1px solid #aaa; }
.login-box button { background:#ff9800; color:#fff; font-weight:bold; cursor:pointer; }

.gallery { display:grid; grid-template-columns: repeat(auto-fit,minmax(300px,1fr)); gap:20px; margin-top:20px; }
.gallery-item { position: relative; }
.gallery-item img { width:100%; border-radius:5px; cursor:pointer; transition: transform 0.3s ease; }
.gallery-item img:hover { transform: scale(1.05); }
.download-btn {
    position: absolute; bottom:10px; left:50%; transform: translateX(-50%);
    background: rgba(255,152,0,0.9); color:#fff; border:none; padding:5px 10px;
    border-radius:3px; cursor:pointer; display:none;
}
.gallery-item:hover .download-btn { display:block; }

/* Lightbox */
#lightbox { display:none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:1000; }
#lightbox img { max-width:90%; max-height:80%; border-radius:5px; }

footer { text-align:center; padding:20px; background:#222; color:#ccc; margin-top:40px;}
</style>
</head>
<body>

<nav>
    <div>KFZ Aufbereitung</div>
    <div><a href="index.html">Zurück zur Startseite</a></div>
</nav>

<div class="container">
    <h2>Kundengalerie</h2>

    <!-- Login -->
    <div class="login-box" id="loginBox">
        <p>Bitte Kundenzugangscode eingeben:</p>
        <input type="password" id="password" placeholder="Zugangscode">
        <button onclick="checkPassword()">Zugang</button>
        <p id="error" style="color:red;"></p>
    </div>

    <!-- Galerie -->
    <div class="gallery" id="customerGallery"></div>
</div>

<!-- Lightbox -->
<div id="lightbox" onclick="this.style.display='none'">
    <img id="lightboxImg" src="">
</div>

<footer>© 2026 KFZ Aufbereitung</footer>

<script>
// Kunden-Codes und Bilder
const customers = {
    "kunde1": "code123",
    "kunde2": "auto456",
    "kunde3": "fahrzeug789"
};
const images = {
    "kunde1": ["auto1.jpg","auto2.jpg","auto3.jpg"],
    "kunde2": ["auto1.jpg","auto2.jpg"],
    "kunde3": ["auto1.jpg","auto2.jpg"]
};

// Login prüfen und Galerie laden
function checkPassword(){
    const password = document.getElementById("password").value.trim();
    const loginBox = document.getElementById("loginBox");
    const gallery = document.getElementById("customerGallery");
    const error = document.getElementById("error");
    let found = false;

    for(const [kunde, code] of Object.entries(customers)){
        if(password === code){
            gallery.innerHTML = "";
            images[kunde].forEach(imgName => {
                const div = document.createElement("div");
                div.className="gallery-item";

                const img = document.createElement("img");
                img.src=`images/kunden/${kunde}/${imgName}`;
                img.alt="Kundenfahrzeug";
                img.onclick = () => openLightbox(img.src);

                // Download Button (optional)
                const btn = document.createElement("button");
                btn.className="download-btn";
                btn.textContent="Download";
                btn.onclick = (e) => {
                    e.stopPropagation();
                    const link = document.createElement("a");
                    link.href = img.src;
                    link.download = imgName;
                    link.click();
                };

                div.appendChild(img);
                div.appendChild(btn);
                gallery.appendChild(div);
            });

            loginBox.style.display="none";
            gallery.style.display="grid";
            found=true;
            break;
        }
    }
    if(!found) error.textContent="Falscher Zugangscode";
}

// Lightbox öffnen
function openLightbox(src){
    document.getElementById("lightboxImg").src = src;
    document.getElementById("lightbox").style.display = "flex";
}
</script>

</body>
</html>
